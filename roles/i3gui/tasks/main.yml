---
- name: Install xorg / fonts
  pacman: 
    name: 
      - xorg-server
      - xorg-xinit 
      - xorg-xsetroot # For setting the default cursor
      - xorg-xprop # For querying info about open windows
      - xorg-xev # For printing x server events
      - xorg-xfontsel # For visually selecting font strings
      - xorg-xrandr
      - xorg-xbacklight      
      - tlp
      - tlp-rdw
      - noto-fonts        # install a bunch of fonts
      - noto-fonts-extra 
      - ttf-anonymous-pro 
      - ttf-bitstream-vera 
      - ttf-caladea 
      - ttf-carlito 
      - ttf-cheapskate 
      - ttf-cormorant 
      - ttf-croscore 
      - ttf-dejavu 
      - ttf-droid 
      - ttf-fantasque-sans-mono 
      - ttf-fira-code 
      - ttf-fira-mono 
      - ttf-fira-sans 
      - ttf-font-awesome 
      - ttf-freefont 
      - ttf-gentium 
      - ttf-hack 
      - ttf-ibm-plex 
      - ttf-inconsolata 
      - ttf-ionicons 
      - ttf-liberation 
      - ttf-linux-libertine 
      - ttf-opensans 
      - ttf-roboto 
      - ttf-ubuntu-font-family
      - alsa-utils

- name: Enable powersaving utility
  systemd:
    name:
       - tlp
       - tlp-sleep
    enabled: yes
    state: started

- name: Disalbe rf-kill, managed by tlp
  systemd:
     name: 
       - systemd-rfkill
       - systemd-rfkill.socket     
     masked: yes
     state: stopped

- name: Install gui applications
  pacman:
    name: 
      - libreoffice-fresh 
      - libreoffice-extension-texmaths 
      - libreoffice-extension-writer2latex 
      - hunspell 
      - hunspell-en_AU 
      - hyphen 
      - hyphen-en 
      - jre8-openjdk 
      - jdk-openjdk
      - firefox 
      - chromium
      - gedit
      - gedit-plugins
      - keepassxc
      

- name: Install I3 window manager details
  pacman: 
    name:
      - i3
      - rxvt-unicode
      - dmenu

- name: Copy xinit utilities
  copy:
    src: .xinitrc
    dest: /home/michael/.xinitrc

- name: Create default bash profile
  copy:
    src: .bash_profile
    dest: /home/michael/.bash_profile

- name: Create an .Xresources
  copy: 
    src: .Xresources
    dest: /home/michael/.Xresources

- name: Install i3 apps/rxvt extensions
  aur:
    name: 
      - urxvt-fullscreen
      - urxvt-resize-font-git  
      - polybar
  become: yes
  become_user: aur_builder


- name: Install dev applications
  aur:
    name:
      - visual-studio-code-bin
      - pycharm-professional
      - webstorm-jre
      - gitkraken
  become: yes
  become_user: aur_builder

